import{_ as e,c as s,o as a,a4 as i}from"./chunks/framework.qL1yNBZ5.js";const g=JSON.parse('{"title":"Shaders","description":"","frontmatter":{},"headers":[],"relativePath":"docs/visuals/shaders.md","filePath":"docs/visuals/shaders.md","lastUpdated":1714808579000}'),t={name:"docs/visuals/shaders.md"},l=i(`<h1 id="shaders" tabindex="-1">Shaders <a class="header-anchor" href="#shaders" aria-label="Permalink to &quot;Shaders&quot;">​</a></h1><p>Shaders in Sapiens come in two folders:</p><ul><li><code>glsl</code> folder contains the raw, uncompiled shaders.</li><li><code>spv</code> contains the compiled versions.</li></ul><h2 id="shader-types" tabindex="-1">Shader types <a class="header-anchor" href="#shader-types" aria-label="Permalink to &quot;Shader types&quot;">​</a></h2><p>There are two shader types:</p><ul><li><code>frag</code>: These shaders essentially set the &#39;color&#39; of the thing being shaded</li><li><code>vert</code>: These shaders essentially set the &#39;shape&#39; of the thing being shaded</li></ul><h2 id="creating-shaders" tabindex="-1">Creating shaders <a class="header-anchor" href="#creating-shaders" aria-label="Permalink to &quot;Creating shaders&quot;">​</a></h2><p>To mod shaders, you simply need to put a compiled shader into the <code>spv</code> folder at the root of your mod directory (create it if it doesn&#39;t exist). The name must match one of the games shaders. This shader will be picked up by the game.</p><h2 id="getting-started-with-glsl" tabindex="-1">Getting Started with GLSL <a class="header-anchor" href="#getting-started-with-glsl" aria-label="Permalink to &quot;Getting Started with GLSL&quot;">​</a></h2><p>Before you can build a shader mod for Sapiens, you will need the ability to write and compile shaders. This tutorial will help you set up your development environment.</p><div class="tip custom-block"><p class="custom-block-title">This tutorial is for Windows</p><p>Unfortunately, we have not written guides for Linux or Mac users.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><strong>Note:</strong> glslc cannot handle paths with spaces in the same. In order to use either the script or manual, you will need a path without spaces.</p></div><h3 id="install-the-vulkansdk" tabindex="-1">Install the VulkanSDK <a class="header-anchor" href="#install-the-vulkansdk" aria-label="Permalink to &quot;Install the VulkanSDK&quot;">​</a></h3><p>You can download the VulkanSDK <a href="https://vulkan.lunarg.com/sdk/home#windows" target="_blank" rel="noreferrer">here</a>.</p><h3 id="compile-your-shader" tabindex="-1">Compile your Shader <a class="header-anchor" href="#compile-your-shader" aria-label="Permalink to &quot;Compile your Shader&quot;">​</a></h3><p>To compile your shader, you will need to execute your shader using the <code>glslc.exe</code> executable, shipped with Vulkan. By default this is located in <code>C:/VulkanSDK/x.x.xxx.x/Bin/glslc.exe</code>.</p><p>Here is a sample command:</p><p><code>C:/VulkanSDK/x.x.xxx.x/Bin/glslc.exe my_shader.frag -std=450core -o my_shader.frag.spv</code></p><ul><li><code>my_shader.frag</code> This is the file where your shader</li><li><code>-std=450core</code> This sets the version, since dave neglected to do so at the top of the shader files</li><li><code>my_shader.frag.spv</code> This is the file name/location where the output will be placed</li></ul><h3 id="dependency-management" tabindex="-1">Dependency Management <a class="header-anchor" href="#dependency-management" aria-label="Permalink to &quot;Dependency Management&quot;">​</a></h3><p>Shaders in Sapiens often rely on <em>other shaders</em>. When compiling, you therefor need to ensure that any dependency <code>glsl</code> shaders are also available, in the expected folder structure.</p><h2 id="compiler-helper" tabindex="-1">Compiler Helper <a class="header-anchor" href="#compiler-helper" aria-label="Permalink to &quot;Compiler Helper&quot;">​</a></h2><p>There is a Python script available to streamline the shader compilation process: <a href="https://gist.github.com/SirLich/1ada6df219ab9c1d2a92bcdcc4ca4335" target="_blank" rel="noreferrer">SirLich&#39;s Sapiens Shader Compiler</a>.</p><p>To use the script, drop it into your mod folder. Then create your shaders in <code>glsl</code> folder, and also create a blank <code>spv</code> folder.</p><p>When you run the script, it will compile all your <code>glsl</code> shaders into <code>spv</code> shaders, ensuring that dependencies are satisfied.</p><h2 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h2><p>Here is a simple example of Shaders in action, which you can use as a test-case. We will be editing <code>lookAtTerrainMesh.frag</code>, since it&#39;s very simple.</p><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(location </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) out vec4 data;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(location </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) in </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> outAnimation;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // This is the old value, which is a black outline:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // data = vec4(0.05,0.05,0.05,1.0);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // This is the new value, which is a red outline</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> , </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> , </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Compile this shader (see above), and place it into <code>/spv/lookAtTerrainMesh.frag.spv</code>.</p><p>When you load into the game, the hexagons should show as cyan.</p>`,30),n=[l];function h(r,o,d,p,c,k){return a(),s("div",null,n)}const m=e(t,[["render",h]]);export{g as __pageData,m as default};
