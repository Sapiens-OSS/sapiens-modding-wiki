<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>World Generation | Unofficial Sapiens Modding Wiki</title>
    <meta name="description" content="Modding documentation for the Sapiens video game.">
    <link rel="preload stylesheet" href="/assets/style.1f029b31.css" as="style">
    
    <script type="module" src="/assets/app.23165fb6.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.1eef7d9b.js">
    <link rel="modulepreload" href="/assets/chunks/theme.36d57806.js">
    <link rel="modulepreload" href="/assets/docs_scripting_worldgen.md.f1e39ea0.lean.js">
    <link rel="stylesheet" href="/index.css">
    <link rel="icon" href="/favicon.ico">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6be51355><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae3e3f51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae3e3f51> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6be51355 data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-faa4ef78><div class="container" data-v-faa4ef78><div class="title" data-v-faa4ef78><div class="VPNavBarTitle has-sidebar" data-v-faa4ef78 data-v-8bbac535><a class="title" href="/" data-v-8bbac535><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-6db2186b><!--]--><!--[-->Sapiens Modding Wiki<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-faa4ef78><div class="curtain" data-v-faa4ef78></div><div class="content-body" data-v-faa4ef78><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-faa4ef78><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-faa4ef78 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://www.playsapiens.com/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->Sapiens Website<!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://wiki.playsapiens.com/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->Sapiens Wiki<!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/Majic-Jungle/sapiens-mod-creation/wiki" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->Official Sapiens Modding Wiki<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-faa4ef78 data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-faa4ef78 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Sapiens-OSS/sapiens-modding-wiki" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/WnN8hj2Fyg" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-faa4ef78 data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Sapiens-OSS/sapiens-modding-wiki" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://discord.gg/WnN8hj2Fyg" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-faa4ef78 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-6be51355 data-v-5cfd5582><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-5cfd5582><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-5cfd5582><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-5cfd5582>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5cfd5582 data-v-d5bb9d56><button data-v-d5bb9d56>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-6be51355 data-v-845b8fc6><div class="curtain" data-v-845b8fc6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-845b8fc6><span class="visually-hidden" id="sidebar-aria-label" data-v-845b8fc6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>Guides</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/guide/vscode-getting-started.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Getting Started with VSCode</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/guide/lua-getting-started.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Getting Started with Lua</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/guide/c-getting-started.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Getting Started with C</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/guide/shadowing.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Using Lua Shadows</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0 has-active" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>Documentation</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><section class="VPSidebarItem level-1" data-v-4fbabd82 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h3 class="text" data-v-4fbabd82>Visuals</h3><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/visuals/materials.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Materials</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/visuals/shaders.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Shaders</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/visuals/model-format.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Model Format</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/visuals/coordinates.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Coordinates</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/visuals/user-interface.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>User Interface</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 has-active" data-v-4fbabd82 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h3 class="text" data-v-4fbabd82>Scripts</h3><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/mod-types.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Mod Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/mobs.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Mobs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/bridge.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Engine Bridges</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/cheat.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Dev Tools</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/game-saves.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Game Saves</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/handling-input.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Input</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/thread-management.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Thread Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/timers.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Timers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link is-active has-active" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/scripting/worldgen.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>World Generation</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-4fbabd82 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h3 class="text" data-v-4fbabd82>Miscellaneous</h3><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/misc/abbrev.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Abbreviations</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/misc/common-issues.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Common Issues</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/docs/misc/notes.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Other Notes</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>Hammerstone</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/introduction.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/getting-started.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/shadowing.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Shadowing Util</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/ui-manager.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>UI Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/input-manager.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Input Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/save-state.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Save State</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-4fbabd82 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h3 class="text" data-v-4fbabd82>DDAPI</h3><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/ddapi/ddapi-getting-started.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/ddapi/ddapi-objects.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Objects</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/ddapi/ddapi-remaps.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Remaps</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/hammerstone/ddapi/ddapi-troubleshooting.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Troubleshooting</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-845b8fc6><section class="VPSidebarItem level-0" data-v-845b8fc6 data-v-4fbabd82><div class="item" role="button" tabindex="0" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><h2 class="text" data-v-4fbabd82>Tutorials</h2><!----></div><div class="items" data-v-4fbabd82><!--[--><div class="VPSidebarItem level-1 is-link" data-v-4fbabd82 data-v-4fbabd82><div class="item" data-v-4fbabd82><div class="indicator" data-v-4fbabd82></div><a class="VPLink link link" href="/tutorials/creating-craftable-objects.html" data-v-4fbabd82><!--[--><p class="text" data-v-4fbabd82>Craftable object in Lua</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6be51355 data-v-3107c4ee><div class="VPDoc has-sidebar has-aside" data-v-3107c4ee data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-b0ff2abe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _docs_scripting_worldgen" data-v-6b87e69f><div><h1 id="world-generation" tabindex="-1">World Generation <a class="header-anchor" href="#world-generation" aria-label="Permalink to &quot;World Generation&quot;">​</a></h1><p>World generation is split across multiple parts, knowledge of <a href="/guide/c-getting-started.html">C modding</a> is required.</p><h2 id="common-objects" tabindex="-1">Common Objects <a class="header-anchor" href="#common-objects" aria-label="Permalink to &quot;Common Objects&quot;">​</a></h2><p>Common objects are used in more than one stage of world generation.</p><h3 id="spworldgenoptions" tabindex="-1">SPWorldGenOptions <a class="header-anchor" href="#spworldgenoptions" aria-label="Permalink to &quot;SPWorldGenOptions&quot;">​</a></h3><p><code>SPWorldGenOptions</code> is used to pass settings from the GUI to the generation functions. It&#39;s used in <code>spHeightGet</code> for vertex height generation and <code>spRainfallGet</code> for rainfall generation. It&#39;s defined in <code>SPCommon.h</code></p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPWorldGenOptions</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">double</span><span style="color:#F07178;"> heightOffset</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">double</span><span style="color:#F07178;"> rainfallMultiplier</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">double</span><span style="color:#F07178;"> temperatureOffset</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	SPVec3 scales</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	SPVec3 influences</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="spnoise" tabindex="-1">SPNoise <a class="header-anchor" href="#spnoise" aria-label="Permalink to &quot;SPNoise&quot;">​</a></h3><p><code>SPNoise</code> is part of the noise generation system. While the exact details are unknown it can be used to generate noise values or generate things with a chance.</p><h4 id="spnoiseget" tabindex="-1">spNoiseGet <a class="header-anchor" href="#spnoiseget" aria-label="Permalink to &quot;spNoiseGet&quot;">​</a></h4><p>This function allows you to sample the noise value at a specific location. It takes three arguments:</p><ul><li><code>SPNoise* noise</code> An instance of <code>SPNoise</code></li><li><code>SPVec3 vec</code> The point you want to sample</li><li><code>int endOctave</code> Sets the &quot;detail&quot; or frequency of your noise.</li></ul><p>The two last arguments can be tweaked to get a desired result. Do not set <code>endOctave</code> too high (max ~8) as this increases the time it takes to sample noise values.</p><p>Here are four examples of using <code>spNoiseGet</code> to set terrain height on a certain position called <code>noiseLoc</code>:</p><div class="language-c"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">spNoiseGet</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">noise1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> noiseLoc</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &lt;- Creates a world with large oceans and large continents, while keeping the terrain relatively flat</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">spNoiseGet</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">noise1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> noiseLoc</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &lt;- Creates a world with more details: islands, lakes, etc. and continents and oceans are slightly smaller, but everything remains relatively flat</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">spNoiseGet</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">noise1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">spVec3Mul</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">noiseLoc</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &lt;- Creates a world consisting entirely of small, smooth and relatively flat islands</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">spNoiseGet</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">noise1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">spVec3Mul</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">noiseLoc</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &lt;- Creates a world consisting entirely of small but rugged islands</span></span></code></pre></div><h2 id="vertex-terrain-generation" tabindex="-1">Vertex Terrain Generation <a class="header-anchor" href="#vertex-terrain-generation" aria-label="Permalink to &quot;Vertex Terrain Generation&quot;">​</a></h2><p>Vertex Terrain generation determines the height of every point in the world. This height is represented in the <a href="/docs/visuals/coordinates.html">prerender coordinate scale</a>. The methods required for vertex generation are defined in <code>SPHeight.h</code>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>You can convert meters into the prerender scale by using the <code>SP_METERS_TO_PRERENDER</code> macro:</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> heightInPrerenderScale </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">SP_METERS_TO_PRERENDER</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">heightInMeters</span><span style="color:#89DDFF;">);</span></span></code></pre></div></div><h3 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h3><p>The following methods can be overridden to implement custom vertex terrain generation.</p><h4 id="spheightget" tabindex="-1">spHeightGet <a class="header-anchor" href="#spheightget" aria-label="Permalink to &quot;spHeightGet&quot;">​</a></h4><ul><li><code>previousHeight: SPVec4</code> when <code>spReplacesPreviousHeight</code> returns false, then previousHeight is the output of the previous mod, otherwise it should be ignored</li><li><code>noise1: SPNoise*</code> An instance of a noise generator, can be used to get smooth noise values at a given point.</li><li><code>noise2: SPNoise*</code> An instance of a noise generator, can be used to get smooth noise values at a given point. Same as <code>noise1</code> but initialized with a different seed.</li><li><code>pointNormal: SPVec3</code> The normalized location on the planet , you can imagine it as sampling points on a sphere with <code>(0,0,0)</code> as the center and a radius of <code>1</code>.</li><li><code>noiseLoc: SPVec3</code> Position to sample noise values at, defined as <code>pointNormal + vec3(1.2, 1.2, 1.3)</code> as noise generation breaks down at coordinates <code>&lt;=0</code></li><li><code>worldGenOptions: SPWorldGenOptions</code> Options for the world generator, set in the UI when the user is generating a new world.</li><li><code>riverValue: double</code> Used as a crude height multiplier.</li><li><code>riverDistance: double</code> Distance to a nearby river if one is close enough.</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>You can calculate the latitude and longitude as follows:</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> lat </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">asin</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pointNormal</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> lon </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fabs</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pointNormal</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fabs</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pointNormal</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">z</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.0000001</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        lon </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">atan2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">pointNormal</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">z</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">pointNormal</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Some points are <code>NaN</code>, the vanilla implementation returns <code>NaN</code> at these points. Returning anything else seems to cause artifacts on the equator of the planet.</p></div><p>The return value from te function is a vector with 4 components. The first component is the height, the other components are currently unused and in the vanilla implementation always <code>riverDistance</code>, <code>0</code> and <code>0</code> respectively.</p><h4 id="spreplacespreviousheight" tabindex="-1">spReplacesPreviousHeight <a class="header-anchor" href="#spreplacespreviousheight" aria-label="Permalink to &quot;spReplacesPreviousHeight&quot;">​</a></h4><p>This method has no arguments, when <code>true</code> is returned the output of the previous mod is ignored. If <code>false</code> is returned the output of the previous mod is passed to <code>spHeightGet</code></p><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h3><p>Below is the code for the <code>FlatTerrainMod</code> which returns a height of 10 for every position in the world and generates a planet that has flat terrain.</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">SPHeight.h</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">bool</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">spReplacesPreviousHeight</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">SPVec4</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">spHeightGet</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">SPVec4</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">previousHeight</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> //if spReplacesPreviousHeight returns false, then previousHeight is the output of the previous mod, otherwise it should be ignored.</span></span>
<span class="line"><span style="color:#A6ACCD;">                   </span><span style="color:#FFCB6B;">SPNoise</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">noise1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                   </span><span style="color:#FFCB6B;">SPNoise</span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">noise2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                   </span><span style="color:#FFCB6B;">SPVec3</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">pointNormal</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                   </span><span style="color:#FFCB6B;">SPVec3</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">noiseLoc</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                   </span><span style="color:#FFCB6B;">SPWorldGenOptions</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">worldGenOptions</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                   </span><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">riverValue</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                   </span><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">riverDistance</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    SPVec4 result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">SP_METERS_TO_PRERENDER</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">),</span><span style="color:#F07178;"> riverDistance</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> result</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><details class="details custom-block"><summary>Result of the above code</summary><p><img src="/assets/flat-planet-result.6d719821.png" alt=""></p></details><h2 id="biome-and-climate-assignment" tabindex="-1">Biome and Climate assignment <a class="header-anchor" href="#biome-and-climate-assignment" aria-label="Permalink to &quot;Biome and Climate assignment&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">Oh-no!</p><p>This section isn&#39;t done. But you can help! Click the &#39;Edit Page&#39; button at the bottom.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This section mentions the vanilla code several times. You can find it <a href="https://github.com/Majic-Jungle/splugins" target="_blank" rel="noreferrer">here</a>.</p></div><p>Biomes are assigned in this stage of world generation, objects like trees and rocks are placed in this stage of generation.</p><h3 id="objects" tabindex="-1">Objects <a class="header-anchor" href="#objects" aria-label="Permalink to &quot;Objects&quot;">​</a></h3><p>Objects that are common to multiple methods during biome generation.</p><h4 id="spbiomethreadstate" tabindex="-1">SPBiomeThreadState <a class="header-anchor" href="#spbiomethreadstate" aria-label="Permalink to &quot;SPBiomeThreadState&quot;">​</a></h4><p>Allows the biome generator to get indices for various objects generated on the Lua side.</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> terrainGenerator</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> //private</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">void</span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> gom</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> //private</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // The following methods can be called to get the index from the lua typeMap for various types of objects.</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint16_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getBiomeTag</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">char*</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // Get the index for the given biome tag, eg &quot;hot&quot;. </span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getTerrainBaseTypeIndex</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">char*</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // Get the index for the given terrain base type, eg &quot;riverSand&quot;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getTerrainVariation</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">char*</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // Get the index for the given terrain variation, eg &quot;grassSnow&quot;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getTerrainModification</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">char*</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // Get the index for the given terrain modification, eg &quot;preventGrassAndSnow&quot;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getGameObjectTypeIndex</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">char*</span><span style="color:#89DDFF;">);</span><span style="color:#676E95;font-style:italic;"> // Get the index for the given object type, eg &quot;appleTree&quot;. Note that this method can be null and has to be checked for existence</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getMaterialTypeIndex</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">char*</span><span style="color:#89DDFF;">);</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getDecalGroupTypeIndex</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">char*</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">SPSurfaceTypeDefault</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getSurfaceDefaultsForBaseType</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">uint32_t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">SPSurfaceTypeDefault</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getSurfaceDefaultsForVariationType</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">uint32_t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">getSurfaceBaseTypeForFillObjectType</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">SPBiomeThreadState</span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;">uint32_t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">	SPRand</span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> spRand</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	SPNoise</span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> spNoise1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	SPNoise</span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> spNoise2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="methods-1" tabindex="-1">Methods <a class="header-anchor" href="#methods-1" aria-label="Permalink to &quot;Methods&quot;">​</a></h3><p>The following methods can be overridden to implement custom biome generation.</p><h4 id="spbiomeinit" tabindex="-1">spBiomeInit <a class="header-anchor" href="#spbiomeinit" aria-label="Permalink to &quot;spBiomeInit&quot;">​</a></h4><ul><li><code>threadState: SPBiomeThreadState*</code></li></ul><p>This method has no return value, the method is used to initialize static variables with indices of the relevant object.</p><h4 id="spbiomegettagsforpoint" tabindex="-1">spBiomeGetTagsForPoint <a class="header-anchor" href="#spbiomegettagsforpoint" aria-label="Permalink to &quot;spBiomeGetTagsForPoint&quot;">​</a></h4><p>It&#39;s currently unknown what this method exactly does. You can help by checking out the vanilla code!</p><h4 id="spbiomegetsurfacetypeforpoint" tabindex="-1">spBiomeGetSurfaceTypeForPoint <a class="header-anchor" href="#spbiomegetsurfacetypeforpoint" aria-label="Permalink to &quot;spBiomeGetSurfaceTypeForPoint&quot;">​</a></h4><p>Allows you to change the surface type on a certain location in the world. For example, you can change how frequent clay, rock, soil, or any other surface generates in the world. If you want to make clay surfaces more common for example, you can increase the chances of clay spawning by modifying this function. You can also use this to spawn your custom surface types into the world.</p><p>Note that this function does not spawn small rocks, boulders, clay balls or anything of that sort. This is merely concerned with the &quot;ground&quot; type that spawns.</p><ul><li><code>SPBiomeThreadState* threadState</code> The state of the thread including noise generators and a RNG object.</li><li><code>SPSurfaceTypeResult incomingType</code> The type as generated by the vanilla code.</li><li><code>uint16_t* tags</code> The type of biome at the current location.</li><li><code>int tagCount</code> Amount of biomes.</li><li><code>uint32_t* modifications</code> Modifications such as if there is snow, or if the soil has vegetation on it or not.</li><li><code>int modificationCount</code> The amount of modification types.</li><li><code>uint32_t fillGameObjectTypeIndex</code> Not sure what this is.</li><li><code>int16_t digFillOffset</code> Not sure what this is.</li><li><code>uint32_t* variations</code> Terrain variations such as red rock, green rock, snow, etc.</li><li><code>SPVec3 pointNormal</code> Coordinates in the world.</li><li><code>SPVec3 noiseLoc</code> A noise value associated with that coordinate.</li><li><code>double baseAltitude</code> The altitude of the coordinate. There is no &quot;absolute minimum&quot; or &quot;absolute maximum&quot;, but running some tests it seems to fall between -0.001 and 0.001, with 0 being the sea level. A value of 0.001 translates to about 4335. 1 meter translates to 0.00000023 units in baseAltitude</li><li><code>double steepness</code> The steepness of that coordinate. It is calculated by taking two other samples 4m away, one to the north, and one to the east, of which the maximum absolute difference between those heights and the base point height in meters is taken.</li><li><code>double riverDistance</code> Distance to the closest river. A river distance of 1 indicates that the nearest river is about 7650 hexagons away</li><li><code>int seasonIndex</code> What season it&#39;s in (?).</li></ul><p>The return value is a <code>SPSurfaceTypeResult</code>. This struct contains the following:</p><ul><li><code>uint32_t surfaceBaseType</code> The type of the surface, such as clay, rock, soil, etc.</li><li><code>uint16_t variationCount</code> Not sure what this is.</li><li><code>uint32_t materialIndex</code> The material (texture) that is associated with the surface type. Changing the surface type is therefore not sufficient, you need to manually set the correct material too.</li><li><code>uint32_t decalTypeIndex</code> Not sure what this is.</li><li><code>uint8_t pathDifficultyIndex</code> Sets the difficulty of traversing this surface.</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>You can convert the steepness value into radians going from 0 to π/2 by doing:</p><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> angle </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isnan</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">steepness</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">atan</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">steepness </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sqrt</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">32</span><span style="color:#89DDFF;">));</span></span></code></pre></div></div><h4 id="spbiomegettransientgameobjecttypesforfacesubdivision" tabindex="-1">spBiomeGetTransientGameObjectTypesForFaceSubdivision <a class="header-anchor" href="#spbiomegettransientgameobjecttypesforfacesubdivision" aria-label="Permalink to &quot;spBiomeGetTransientGameObjectTypesForFaceSubdivision&quot;">​</a></h4><p>This method is responsible for spawning gameobjects, this ranges from rocks to trees. Adding gameobjects is done by adding the relevant index (acquired in <code>spBiomeInit</code>) the <code>types</code> array. It&#39;s your responsibility that you write to indices within the range <code>[incomingTypeCount, BIOME_MAX_GAME_OBJECT_COUNT_PER_SUBDIVISION)</code>. Vanilla has a helper macro for this, it requires you to define an integer at the top of the method (<code>int addedCount = incomingTypeCount</code>): Note that this method is called for all mods enabled (this includes vanilla!) and you can thus already have gameobjects in the <code>types</code> array. It&#39;s possible to overwrite previous mods by overwriting previous indices.</p><ul><li><code>threadState SPBiomeThreadState*</code> The state of the thread including noise generators and a RNG object.</li><li><code>incomingTypeCount: int</code> Amount of already generated objects</li><li><code>types: uint32_t*</code> Array of types to be generated with size <code>BIOME_MAX_GAME_OBJECT_COUNT_PER_SUBDIVISION</code>.</li><li><code>biomeTags: uint16_t*</code>Array of biome tags at the position to generate.</li><li><code>tagCount: int</code> Amount of biome tags at the position to generate</li><li><code>pointNormal: SPVec3</code></li><li><code>noiseLoc: SPVec3</code> Location to be used in conjunction with the given noiseGenerator.</li><li><code>faceUniqueID: uint64_t</code> The unique id of the face, can be used to get random values.</li><li><code>level: int</code> The level of subdivisions the face has undergone. The higher this value, the denser that gameObjects will be placed. The method is called only for the following levels of subdivision: 13, 14, 15, 16, 17, 18, 19, 20, 21</li><li><code>altitude: double</code> Altitude of the face</li><li><code>steepness: double</code> The steepness of that coordinate. It is calculated by taking two other samples 4m away, one to the north, and one to the east, of which the maximum absolute difference between those heights and the base point height in meters is taken.</li><li><code>riverDistance: double</code></li></ul><div class="language-cpp"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#define</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ADD_OBJECT</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">__addType__</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">                                                \</span></span>
<span class="line"><span style="color:#A6ACCD;">  types[addedCount++] = __addType__;                                           \</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (addedCount &gt;= BIOME_MAX_GAME_OBJECT_COUNT_PER_SUBDIVISION) {             \</span></span>
<span class="line"><span style="color:#A6ACCD;">    return addedCount;                                                         \</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span></code></pre></div><p>Vanilla spawns different kinds of objects at different subdivision levels, look at the vanilla code for specifics.</p><h2 id="particle-engine" tabindex="-1">Particle Engine <a class="header-anchor" href="#particle-engine" aria-label="Permalink to &quot;Particle Engine&quot;">​</a></h2><p>It&#39;s currently unknown how the particle engine works, the vanilla implementation can be found in the <a href="https://github.com/Majic-Jungle/splugins/blob/main/SPVanilla/src/SPParticles.c" target="_blank" rel="noreferrer">splugins</a> repository.</p></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-37656e44><!--[--><!--]--><div class="edit-info" data-v-37656e44><div class="edit-link" data-v-37656e44><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Sapiens-OSS/sapiens-modding-wiki/edit/master/docs/docs/scripting/worldgen.md" target="_blank" rel="noreferrer" data-v-37656e44><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-37656e44><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page<!--]--></a></div><div class="last-updated" data-v-37656e44><p class="VPLastUpdated" data-v-37656e44 data-v-149a99df>Last updated: <time datetime="2023-06-08T12:02:44.000Z" data-v-149a99df></time></p></div></div><nav class="prev-next" data-v-37656e44><div class="pager" data-v-37656e44><a class="pager-link prev" href="/docs/scripting/timers.html" data-v-37656e44><span class="desc" data-v-37656e44>Previous page</span><span class="title" data-v-37656e44>Timers</span></a></div><div class="pager" data-v-37656e44><a class="pager-link next" href="/docs/misc/abbrev.html" data-v-37656e44><span class="desc" data-v-37656e44>Next page</span><span class="title" data-v-37656e44>Abbreviations</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_scripting_game-saves.md\":\"f3b5a063\",\"docs_scripting_handling-input.md\":\"fbc8b4ed\",\"docs_scripting_mobs.md\":\"50afaa7b\",\"docs_object-sets.md\":\"0b0c8944\",\"docs_scripting_mod-types.md\":\"f0dd0924\",\"docs_scripting_thread-management.md\":\"0adc8e34\",\"docs_scripting_timers.md\":\"50205dc5\",\"docs_scripting_worldgen.md\":\"f1e39ea0\",\"docs_visuals_coordinates.md\":\"c4de7268\",\"docs_scripting_cheat.md\":\"4c49fc38\",\"hammerstone_ddapi_ddapi-troubleshooting.md\":\"18293a57\",\"hammerstone_getting-started.md\":\"e0f00083\",\"hammerstone_input-manager.md\":\"aa2b6c13\",\"hammerstone_ddapi_ddapi-remaps.md\":\"dcb05af6\",\"docs_visuals_user-interface.md\":\"dd53c90d\",\"docs_edge-decals.md\":\"f29edd98\",\"docs_misc_abbrev.md\":\"1f88a5e1\",\"guide_c-getting-started.md\":\"774fc632\",\"guide_shadowing.md\":\"02eae75e\",\"docs_visuals_materials.md\":\"f27ca6dc\",\"guide_vscode-getting-started.md\":\"a43d8d8f\",\"hammerstone_ddapi_ddapi-getting-started.md\":\"10142ee7\",\"guide_lua-getting-started.md\":\"f07bd5d8\",\"hammerstone_ddapi_ddapi-objects.md\":\"82ec8208\",\"docs_visuals_model-format.md\":\"1d189053\",\"docs_scripting_bridge.md\":\"5e76c14e\",\"docs_misc_common-issues.md\":\"5bfe9c13\",\"docs_animations.md\":\"75a8d123\",\"hammerstone_shadowing.md\":\"16a2efe1\",\"hammerstone_introduction.md\":\"836b6d7d\",\"hammerstone_logger.md\":\"8130b0cd\",\"hammerstone_save-state.md\":\"8450ef39\",\"docs_misc_notes.md\":\"58f66523\",\"index.md\":\"d6b6fe65\",\"docs_visuals_shaders.md\":\"4905fedd\",\"tutorials_modifying-terrain-generation.md\":\"02eb605c\",\"hammerstone_ui-manager.md\":\"0d51a23d\",\"tutorials_creating-craftable-objects.md\":\"11939b82\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Unofficial Sapiens Modding Wiki\",\"description\":\"Modding documentation for the Sapiens video game.\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"algolia\":{\"apiKey\":\"56fc5c07ebe891feedd03953cc55884e\",\"appId\":\"QS6BR6DKN3\",\"indexName\":\"sapiens\"},\"nav\":[{\"text\":\"Sapiens Website\",\"link\":\"https://www.playsapiens.com/\"},{\"text\":\"Sapiens Wiki\",\"link\":\"https://wiki.playsapiens.com/\"},{\"text\":\"Official Sapiens Modding Wiki\",\"link\":\"https://github.com/Majic-Jungle/sapiens-mod-creation/wiki\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Sapiens-OSS/sapiens-modding-wiki\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/WnN8hj2Fyg\"}],\"sidebar\":[{\"text\":\"Guides\",\"collapsible\":true,\"items\":[{\"text\":\"Getting Started with VSCode\",\"link\":\"/guide/vscode-getting-started\"},{\"text\":\"Getting Started with Lua\",\"link\":\"/guide/lua-getting-started\"},{\"text\":\"Getting Started with C\",\"link\":\"/guide/c-getting-started\"},{\"text\":\"Using Lua Shadows\",\"link\":\"/guide/shadowing\"}]},{\"text\":\"Documentation\",\"collapsible\":true,\"items\":[{\"text\":\"Visuals\",\"collapsible\":true,\"items\":[{\"text\":\"Materials\",\"link\":\"/docs/visuals/materials\"},{\"text\":\"Shaders\",\"link\":\"/docs/visuals/shaders\"},{\"text\":\"Model Format\",\"link\":\"/docs/visuals/model-format\"},{\"text\":\"Coordinates\",\"link\":\"/docs/visuals/coordinates\"},{\"text\":\"User Interface\",\"link\":\"/docs/visuals/user-interface\"}]},{\"text\":\"Scripts\",\"collapsible\":true,\"items\":[{\"text\":\"Mod Types\",\"link\":\"/docs/scripting/mod-types\"},{\"text\":\"Mobs\",\"link\":\"/docs/scripting/mobs\"},{\"text\":\"Engine Bridges\",\"link\":\"/docs/scripting/bridge\"},{\"text\":\"Dev Tools\",\"link\":\"/docs/scripting/cheat\"},{\"text\":\"Game Saves\",\"link\":\"/docs/scripting/game-saves\"},{\"text\":\"Input\",\"link\":\"/docs/scripting/handling-input\"},{\"text\":\"Thread Management\",\"link\":\"/docs/scripting/thread-management\"},{\"text\":\"Timers\",\"link\":\"/docs/scripting/timers\"},{\"text\":\"World Generation\",\"link\":\"/docs/scripting/worldgen\"}]},{\"text\":\"Miscellaneous\",\"collapsible\":true,\"items\":[{\"text\":\"Abbreviations\",\"link\":\"/docs/misc/abbrev\"},{\"text\":\"Common Issues\",\"link\":\"/docs/misc/common-issues\"},{\"text\":\"Other Notes\",\"link\":\"/docs/misc/notes\"}]}]},{\"text\":\"Hammerstone\",\"collapsible\":true,\"items\":[{\"text\":\"Introduction\",\"link\":\"/hammerstone/introduction\"},{\"text\":\"Getting Started\",\"link\":\"/hammerstone/getting-started\"},{\"text\":\"Shadowing Util\",\"link\":\"/hammerstone/shadowing\"},{\"text\":\"UI Manager\",\"link\":\"/hammerstone/ui-manager\"},{\"text\":\"Input Manager\",\"link\":\"/hammerstone/input-manager\"},{\"text\":\"Save State\",\"link\":\"/hammerstone/save-state\"},{\"text\":\"DDAPI\",\"collapsible\":true,\"items\":[{\"text\":\"Getting Started\",\"link\":\"/hammerstone/ddapi/ddapi-getting-started\"},{\"text\":\"Objects\",\"link\":\"/hammerstone/ddapi/ddapi-objects\"},{\"text\":\"Remaps\",\"link\":\"/hammerstone/ddapi/ddapi-remaps\"},{\"text\":\"Troubleshooting\",\"link\":\"/hammerstone/ddapi/ddapi-troubleshooting\"}]}]},{\"text\":\"Tutorials\",\"collapsible\":true,\"items\":[{\"text\":\"Craftable object in Lua\",\"link\":\"/tutorials/creating-craftable-objects\"}]}],\"logo\":\"/logo.png\",\"siteTitle\":\"Sapiens Modding Wiki\",\"editLink\":{\"pattern\":\"https://github.com/Sapiens-OSS/sapiens-modding-wiki/edit/master/docs/:path\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>